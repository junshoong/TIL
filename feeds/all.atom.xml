<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>TIL</title><link href="http://til.junshoong.net/" rel="alternate"></link><link href="http://til.junshoong.net/feeds/all.atom.xml" rel="self"></link><id>http://til.junshoong.net/</id><updated>2017-05-01T00:00:00+09:00</updated><entry><title>[Python]import_module을 사용해서 import 하기</title><link href="http://til.junshoong.net/python/import-module-function" rel="alternate"></link><published>2017-05-01T00:00:00+09:00</published><updated>2017-05-01T00:00:00+09:00</updated><author><name>junshoong</name></author><id>tag:til.junshoong.net,2017-05-01:/python/import-module-function</id><summary type="html">&lt;p&gt;python에서 숫자 등으로 시작하는 패키지를 import 할때는 주의해야한다.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="mi"&gt;1234&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="mi"&gt;1234&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;abc&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;위와 같이 숫자로 된 파일은 에러를 뱉을 뿐 import 되지 않는다.
그럴 땐 아래와 같이 한다.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;importlib&lt;/span&gt;

&lt;span class="n"&gt;importlib&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;import_module&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;1234&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;p&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;importlib&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;import_module&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;1234&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;abc&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;위와 같은 작업으로 import를 진행할 수 있다.&lt;/p&gt;
&lt;p&gt;참고링크
- &lt;a href="https://docs.python.org/3/library/importlib.html#importlib.import_module"&gt;python …&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;python에서 숫자 등으로 시작하는 패키지를 import 할때는 주의해야한다.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="mi"&gt;1234&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="mi"&gt;1234&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;abc&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;위와 같이 숫자로 된 파일은 에러를 뱉을 뿐 import 되지 않는다.
그럴 땐 아래와 같이 한다.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;importlib&lt;/span&gt;

&lt;span class="n"&gt;importlib&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;import_module&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;1234&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;p&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;importlib&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;import_module&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;1234&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;abc&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;위와 같은 작업으로 import를 진행할 수 있다.&lt;/p&gt;
&lt;p&gt;참고링크
- &lt;a href="https://docs.python.org/3/library/importlib.html#importlib.import_module"&gt;python docs&lt;/a&gt;
- &lt;a href="http://stackoverflow.com/questions/9090079/in-python-how-to-import-filename-starts-with-a-number"&gt;stackoverflow - In python, how to import filename starts with a number&lt;/a&gt;&lt;/p&gt;</content><category term="python"></category><category term="package"></category></entry><entry><title>[Python] http 요청을 비동기로하기</title><link href="http://til.junshoong.net/python/asyncronous-http-request" rel="alternate"></link><published>2017-04-26T00:00:00+09:00</published><updated>2017-04-26T00:00:00+09:00</updated><author><name>junshoong</name></author><id>tag:til.junshoong.net,2017-04-26:/python/asyncronous-http-request</id><summary type="html">&lt;p&gt;http 요청으로 간단한 스크래핑 작업을 하는데 요청 갯수가 일곱개 정도 되니 시간이 오래걸린다.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;asyncio&lt;/code&gt;와 &lt;code&gt;aiohttp&lt;/code&gt;를 사용해서 속도를 높여보자.&lt;/p&gt;
&lt;div class="gist"&gt;
    &lt;script src='https://gist.github.com/6c7db753f49f4720473b34147abc3b6c.js?file=requests_test.py'&gt;&lt;/script&gt;
    &lt;noscript&gt;
        &lt;pre&gt;&lt;code&gt;import requests
from timeit import default_timer as dt


s = dt()
url = 'http://example.com/'
data = []

for i in range(20):
    data.append(requests.get(url).text)

print(dt()-s)
&lt;/code&gt;&lt;/pre&gt;
    &lt;/noscript&gt;
&lt;/div&gt;
&lt;p&gt;위 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;http 요청으로 간단한 스크래핑 작업을 하는데 요청 갯수가 일곱개 정도 되니 시간이 오래걸린다.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;asyncio&lt;/code&gt;와 &lt;code&gt;aiohttp&lt;/code&gt;를 사용해서 속도를 높여보자.&lt;/p&gt;
&lt;div class="gist"&gt;
    &lt;script src='https://gist.github.com/6c7db753f49f4720473b34147abc3b6c.js?file=requests_test.py'&gt;&lt;/script&gt;
    &lt;noscript&gt;
        &lt;pre&gt;&lt;code&gt;import requests
from timeit import default_timer as dt


s = dt()
url = 'http://example.com/'
data = []

for i in range(20):
    data.append(requests.get(url).text)

print(dt()-s)
&lt;/code&gt;&lt;/pre&gt;
    &lt;/noscript&gt;
&lt;/div&gt;
&lt;p&gt;위 코드는 &lt;code&gt;http://example.com&lt;/code&gt;에 http get을 20회 실행하는 코드다.
timeit을 이용해서 시간을 확인해보니 6~7초정도 걸렸다.&lt;/p&gt;
&lt;div class="gist"&gt;
    &lt;script src='https://gist.github.com/6c7db753f49f4720473b34147abc3b6c.js?file=aiohttp_test.py'&gt;&lt;/script&gt;
    &lt;noscript&gt;
        &lt;pre&gt;&lt;code&gt;import asyncio
import aiohttp
import requests
from timeit import default_timer as dt


s = dt()
url = 'http://example.com/'
data = []


async def get_html():
    async with aiohttp.ClientSession() as session:
        async with session.get(url) as response:
            data.append(await response.text())

loop = asyncio.get_event_loop()
loop.run_until_complete(
    asyncio.gather(
        *(get_html() for i in range(20))
    )
)
print(dt()-s)
&lt;/code&gt;&lt;/pre&gt;
    &lt;/noscript&gt;
&lt;/div&gt;
&lt;p&gt;같은 동작을 하는 코드지만 비동기처리를 한다.
시간을 확인해보니 1초 전후로 수행된다.&lt;/p&gt;
&lt;p&gt;입출력이나 대기하는시간이 긴 작업일수록 비동기처리가 효율이 좋을 수 있다.&lt;/p&gt;</content><category term="python"></category><category term="asyncronous"></category></entry><entry><title>[Python] 프로그램 시간 체크하기</title><link href="http://til.junshoong.net/python/time-check" rel="alternate"></link><published>2017-04-26T00:00:00+09:00</published><updated>2017-04-26T00:00:00+09:00</updated><author><name>junshoong</name></author><id>tag:til.junshoong.net,2017-04-26:/python/time-check</id><summary type="html">&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;timeit&lt;/span&gt;

&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;default_timer&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="n"&gt;some_progress&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="n"&gt;e&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;default_timer&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;위와 같이 특정 처리에 걸린 시간을 확인할 수 있다.&lt;/p&gt;</summary><content type="html">&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;timeit&lt;/span&gt;

&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;default_timer&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="n"&gt;some_progress&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="n"&gt;e&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;timeit&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;default_timer&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;위와 같이 특정 처리에 걸린 시간을 확인할 수 있다.&lt;/p&gt;</content><category term="python"></category><category term="time"></category></entry><entry><title>[Docker] Data Volume을 사용해서 데이터 지속하기</title><link href="http://til.junshoong.net/docker/persist-data-with-data-volume" rel="alternate"></link><published>2017-04-21T00:00:00+09:00</published><updated>2017-04-21T00:00:00+09:00</updated><author><name>junshoong</name></author><id>tag:til.junshoong.net,2017-04-21:/docker/persist-data-with-data-volume</id><summary type="html">&lt;p&gt;docker와 git-hook을 사용해서 어느정도 프로세스를 자동화하고 있다.
하지만 docker container를 부수고 다시 build 해서 돌리면 내부 데이터가 날아간다. DB의 경우는 &lt;code&gt;--link&lt;/code&gt; 옵션을 이용해서 유지하지만 실제로 upload한 image와 같은 file들의 경우는 컨테이너와 함께 지워진다.&lt;/p&gt;
&lt;p&gt;Data Volume을 사용해서 해결해보자.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;docker create -v /srv/media --name data-store ubuntu /bin/true
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;이렇게하면 ubuntu 이미지를 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;docker와 git-hook을 사용해서 어느정도 프로세스를 자동화하고 있다.
하지만 docker container를 부수고 다시 build 해서 돌리면 내부 데이터가 날아간다. DB의 경우는 &lt;code&gt;--link&lt;/code&gt; 옵션을 이용해서 유지하지만 실제로 upload한 image와 같은 file들의 경우는 컨테이너와 함께 지워진다.&lt;/p&gt;
&lt;p&gt;Data Volume을 사용해서 해결해보자.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;docker create -v /srv/media --name data-store ubuntu /bin/true
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;이렇게하면 ubuntu 이미지를 기반으로한 Data Volume이 하나 생긴다.
이때 공유된 디렉터리인 &lt;code&gt;/srv/media&lt;/code&gt; 는 다른 컨테이너에 붙여서 사용할 수 있다.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo docker run --name possster --volumes-from media-store -d project
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;지웠다가 다시 만들어서 run해도 동일한 상태를 확인할 수 있다.
또한 여러 컨테이너들과 같은 Data Volume을 공유할 수도 있다.&lt;/p&gt;
&lt;p&gt;아래에서 좀 더 다양한 정보를 확인할 수 있다.
- &lt;a href="https://docs.docker.com/engine/tutorials/dockervolumes/"&gt;docker 공식문서 - Manage data in containers&lt;/a&gt;
- &lt;a href="http://www.tricksofthetrades.net/2016/03/14/docker-data-volumes/"&gt;Tricks of the Trades - Data volumes and Data Containers&lt;/a&gt;
- &lt;a href="https://www.digitalocean.com/community/tutorials/how-to-work-with-docker-data-volumes-on-ubuntu-14-04"&gt;DigitalOcean - How To Work with Docker Data Volumes on Ubuntu 14.04&lt;/a&gt;&lt;/p&gt;</content><category term="docker"></category><category term="data"></category></entry><entry><title>[Django] User에게 권한 부여하기</title><link href="http://til.junshoong.net/django/set-user-permission" rel="alternate"></link><published>2017-04-21T00:00:00+09:00</published><updated>2017-04-21T00:00:00+09:00</updated><author><name>junshoong</name></author><id>tag:til.junshoong.net,2017-04-21:/django/set-user-permission</id><summary type="html">&lt;p&gt;코드 몇줄로 간단하게 권한을 부여할 수 있다.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;user&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;User&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;objects&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;username&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;testuser&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;perm&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Permission&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;objects&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;codename&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;model.add_model&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;user_permissions&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;perm&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;여기서 주의할 점은 적용되긴하지만 &lt;code&gt;has_perm&lt;/code&gt;등으로 확인하면 해당 권한이 없다고 나온다는 점이다. 이는 캐싱되어 있는 정보때문에 그렇다. 캐시를 지우거나 인스턴스를 새로 불러오면 올바르게 적용된걸 확인할 수 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;코드 몇줄로 간단하게 권한을 부여할 수 있다.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;user&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;User&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;objects&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;username&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;testuser&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;perm&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Permission&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;objects&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;codename&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;model.add_model&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;user_permissions&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;perm&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;여기서 주의할 점은 적용되긴하지만 &lt;code&gt;has_perm&lt;/code&gt;등으로 확인하면 해당 권한이 없다고 나온다는 점이다. 이는 캐싱되어 있는 정보때문에 그렇다. 캐시를 지우거나 인스턴스를 새로 불러오면 올바르게 적용된걸 확인할 수 있다.
아래와 같이 해결할 수 있다.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;del&lt;/span&gt; &lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_perm_cache&lt;/span&gt;
&lt;span class="k"&gt;del&lt;/span&gt; &lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_user_perm_cache&lt;/span&gt;
&lt;span class="c1"&gt;# OR&lt;/span&gt;
&lt;span class="n"&gt;user&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;User&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;objects&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;아래 링크를 참고할 수 있다.
- &lt;a href="http://stackoverflow.com/questions/42220272/pytest-django-set-user-permissions"&gt;stackoverflow - Pytest-django: set user permissions&lt;/a&gt;&lt;/p&gt;</content><category term="django"></category></entry><entry><title>[Django] serializer의 구현</title><link href="http://til.junshoong.net/django/serializer-or-view" rel="alternate"></link><published>2017-04-20T00:00:00+09:00</published><updated>2017-04-20T00:00:00+09:00</updated><author><name>junshoong</name></author><id>tag:til.junshoong.net,2017-04-20:/django/serializer-or-view</id><summary type="html">&lt;p&gt;DRF에서 create를 구현하는 경우 &lt;code&gt;ViewSet&lt;/code&gt;의 &lt;code&gt;perform_create&lt;/code&gt;를 사용하면 Serializer의 create를 돌지 않는다.&lt;/p&gt;</summary><content type="html">&lt;p&gt;DRF에서 create를 구현하는 경우 &lt;code&gt;ViewSet&lt;/code&gt;의 &lt;code&gt;perform_create&lt;/code&gt;를 사용하면 &lt;code&gt;Serializer&lt;/code&gt;의 &lt;code&gt;create&lt;/code&gt;를 돌지 않는다.&lt;/p&gt;
&lt;p&gt;어떤 식으로 처리하는게 더 나은지는 모르겠지만.. &lt;code&gt;request&lt;/code&gt;를 처리할 필요가 있으면 view에서 구현해주고, 입력된 데이터인 &lt;code&gt;validated_data&lt;/code&gt;를 처리할 필요가 있으면 serializer에서 구현해주는게 좋은 것 같다. &lt;/p&gt;</content><category term="django"></category><category term="drf"></category></entry><entry><title>[Django] timezone 설정</title><link href="http://til.junshoong.net/django/timezone-setting" rel="alternate"></link><published>2017-04-19T00:00:00+09:00</published><updated>2017-04-19T00:00:00+09:00</updated><author><name>junshoong</name></author><id>tag:til.junshoong.net,2017-04-19:/django/timezone-setting</id><summary type="html">&lt;p&gt;Django에서 기본적인 DateTimeField를 현재 timezone으로 맞추고 싶다.&lt;/p&gt;
&lt;p&gt;settings.py&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;TIME_ZONE&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Asia/Seoul&amp;#39;&lt;/span&gt;
&lt;span class="c1"&gt;# USE_TZ = True&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;여기서 &lt;code&gt;TIME_ZONE&lt;/code&gt;만 수정해주니까 저장되는 값이 달랐다. &lt;code&gt;USE_TZ&lt;/code&gt;도 comment 해주니 정상적으로 입력되었다.
참고로 Django에서는 &lt;a href="https://www.w3.org/TR/NOTE-datetime"&gt;&lt;code&gt;ISO 8601&lt;/code&gt;&lt;/a&gt; 을 따른다.&lt;/p&gt;</summary><content type="html">&lt;p&gt;Django에서 기본적인 DateTimeField를 현재 timezone으로 맞추고 싶다.&lt;/p&gt;
&lt;p&gt;settings.py&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;TIME_ZONE&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Asia/Seoul&amp;#39;&lt;/span&gt;
&lt;span class="c1"&gt;# USE_TZ = True&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;여기서 &lt;code&gt;TIME_ZONE&lt;/code&gt;만 수정해주니까 저장되는 값이 달랐다. &lt;code&gt;USE_TZ&lt;/code&gt;도 comment 해주니 정상적으로 입력되었다.
참고로 Django에서는 &lt;a href="https://www.w3.org/TR/NOTE-datetime"&gt;&lt;code&gt;ISO 8601&lt;/code&gt;&lt;/a&gt; 을 따른다.&lt;/p&gt;</content><category term="django"></category><category term="timezone"></category></entry><entry><title>[Angular] no provider for Http 에러</title><link href="http://til.junshoong.net/angular/angular-http-provider" rel="alternate"></link><published>2017-04-17T00:00:00+09:00</published><updated>2017-04-17T00:00:00+09:00</updated><author><name>junshoong</name></author><id>tag:til.junshoong.net,2017-04-17:/angular/angular-http-provider</id><summary type="html">&lt;p&gt;Uncaught (in promise): No provider for Http! 에러&lt;/p&gt;</summary><content type="html">&lt;p&gt;https://gonehybrid.com/build-your-first-mobile-app-with-ionic-2-angular-2-part-5/
간단한 ionic 예제를 따라하던중 &lt;code&gt;Uncaught (in promise): No provider for Http!&lt;/code&gt; 로그가 계속 찍힌다.&lt;/p&gt;
&lt;p&gt;이건 &lt;code&gt;app.moduls.ts&lt;/code&gt;파일에 아래와 같은 부분을 추가해주면 된다.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kr"&gt;import&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="nx"&gt;HttpModule&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="nx"&gt;from&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;@angular/http&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="kd"&gt;@NgModule&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;
    &lt;span class="nx"&gt;imports&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt; &lt;span class="p"&gt;...&lt;/span&gt; &lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;HttpModule&lt;/span&gt; &lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="p"&gt;...&lt;/span&gt;
&lt;span class="p"&gt;})&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="angular"></category><category term="http"></category></entry><entry><title>[Django] restframework에서 image 제공하기</title><link href="http://til.junshoong.net/django/django-restframework-image-field" rel="alternate"></link><published>2017-04-16T00:00:00+09:00</published><updated>2017-04-17T00:00:00+09:00</updated><author><name>junshoong</name></author><id>tag:til.junshoong.net,2017-04-16:/django/django-restframework-image-field</id><summary type="html">&lt;p&gt;DRF에서 image field를 serving 해보자.&lt;/p&gt;</summary><content type="html">&lt;p&gt;drf에서 이미지를 제공하기 위해서는 이미지 Renderer가 별도로 필요하다. 이는 JSONRenderer 등과는 다르게 직접 만들어줘야 한다. &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;/myapp/views.py&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;rest_framework&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;viewsets&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;rest_framework&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;renderers&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;rest_framework.decorators&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;detail_route&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;rest_framework.response&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Response&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;JPEGRenderer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;renderers&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;BaseRenderer&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;media_type&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;image/jpeg&amp;#39;&lt;/span&gt;
    &lt;span class="n"&gt;format&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;jpg&amp;#39;&lt;/span&gt;
    &lt;span class="n"&gt;charset&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;
    &lt;span class="n"&gt;render_style&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;binary&amp;#39;&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;render&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;media_type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;renderer_context&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;TestViewSet&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;viewsets&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ModelViewSet&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

    &lt;span class="o"&gt;...&lt;/span&gt;

    &lt;span class="nd"&gt;@detail_route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;renderer_classes&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;JPEGRenderer&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;image&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;obj_name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_object&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;Response&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;obj_name&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;이렇게 제공하면 url끝에 ~/image/ 경로로 이미지에 접근할 수 있다.
그런데 url의 정보는 그대로인것 같은데 이건 serialize에서 수정해주면 될 것같다.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;/myapp/serializers.py&lt;/em&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;TestSerializer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;serializer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;HyperlinkedModelSerializer&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;image&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;serializers&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;HyperlinkedIdentityField&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;view_name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;test-image&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;html&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="o"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;이런 식으로 제공할 수 있다.&lt;/p&gt;</content><category term="django"></category><category term="rest"></category></entry><entry><title>[CSS] rem과 em</title><link href="http://til.junshoong.net/css/rem-vs-em" rel="alternate"></link><published>2017-04-13T00:00:00+09:00</published><updated>2017-04-13T00:00:00+09:00</updated><author><name>junshoong</name></author><id>tag:til.junshoong.net,2017-04-13:/css/rem-vs-em</id><summary type="html">&lt;p&gt;rem은 root에, em은 해당 요소의 font-size에 비례한다. 그리고 rem이 권장되는 편이다.&lt;/p&gt;</summary><content type="html">&lt;p&gt;css로 디자인을 할때 &lt;code&gt;margin&lt;/code&gt;이나 &lt;code&gt;padding&lt;/code&gt;등의 값을 주곤한다. 이럴때 사용하는 단위가 &lt;code&gt;px&lt;/code&gt;, &lt;code&gt;em&lt;/code&gt;, &lt;code&gt;rem&lt;/code&gt;등이 있다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;px&lt;/code&gt;은 픽셀을 의미한다. 고정된 크기를 제공한다.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;em&lt;/code&gt;은 해당 요소의 font-size에 비례하는 값이다.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rem&lt;/code&gt;은 html요소(root)의 root font-size에 비례한다. &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;그러니까.. &lt;code&gt;rem&lt;/code&gt;이 html의 전반에 걸쳐서 사용하는 font-size에 영향을 받기 때문에 이를 사용해서 디자인을 하는게 좋다.  &lt;code&gt;em&lt;/code&gt;을 사용해도 되긴하지만 해당 요소에 특별하게 영향을 줄때만 사용하고 왠만하면 &lt;code&gt;rem&lt;/code&gt;이 권장된다.&lt;/p&gt;
&lt;p&gt;더 자세한 내용은 &lt;a href="https://webdesign.tutsplus.com/ko/tutorials/comprehensive-guide-when-to-use-em-vs-rem--cms-23984"&gt;tutsplus의 'Rem 그리고 Em, 언제 써야 할까'&lt;/a&gt;를 참고한다.&lt;/p&gt;</content><category term="css"></category><category term="front"></category></entry><entry><title>[Git] Submodule 사용하기</title><link href="http://til.junshoong.net/git/use-submodule" rel="alternate"></link><published>2017-04-13T00:00:00+09:00</published><updated>2017-04-13T00:00:00+09:00</updated><author><name>junshoong</name></author><id>tag:til.junshoong.net,2017-04-13:/git/use-submodule</id><summary type="html">&lt;p&gt;git에서 Submodule을 사용해봤다.&lt;/p&gt;</summary><content type="html">&lt;p&gt;단순하게 git repo안에서 &lt;code&gt;git clone&lt;/code&gt;을 하는 경우 연동이 잘 되지 않는것 같다. &lt;code&gt;git checkout&lt;/code&gt;등을 하면서 git repo안에 clone 했던 git repo가 날아가버리는 상황도 발생했다. 이럴땐 아래와 같이 하자.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git submodule add git@github.com:&amp;lt;user&amp;gt;/&amp;lt;repo&amp;gt;.git
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;.gitmodules&lt;/code&gt;라는 파일이 생성되고 submodule로 등록되었다. push하면 웹상에서도 연결되어 있음을 확인할 수 있다.&lt;/p&gt;
&lt;p&gt;더 자세한 도움은 아래 링크에서 받을 수 있다.
- &lt;a href="https://git-scm.com/book/ko/v2/Git-%EB%8F%84%EA%B5%AC-%EC%84%9C%EB%B8%8C%EB%AA%A8%EB%93%88"&gt;git-scm docs&lt;/a&gt;
- &lt;a href="http://ohgyun.com/711"&gt;꿀벌개발일지 - 서브모듈 이해하기&lt;/a&gt;&lt;/p&gt;</content><category term="git"></category></entry><entry><title>[Python] lambda를 통한 sort</title><link href="http://til.junshoong.net/python/lambda-sort" rel="alternate"></link><published>2017-04-12T00:00:00+09:00</published><updated>2017-04-12T00:00:00+09:00</updated><author><name>junshoong</name></author><id>tag:til.junshoong.net,2017-04-12:/python/lambda-sort</id><summary type="html">&lt;p&gt;&lt;code&gt;lambda&lt;/code&gt;는 익명 함수이다. python 외에도 여러 언어에서 지원하는 expression으로, 짧은 함수를 잠깐 사용할 때 쓸 수 있다.
가장 기본적으로는 아래와 같이 쓴다.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="mi"&gt;9&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="mi"&gt;225&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;lambda&lt;/code&gt;뒤에 인자를 받고 return 값을 적어준다.
아래와 같이 사용할 수도 있다.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;sys&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;read&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;lambda …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;&lt;code&gt;lambda&lt;/code&gt;는 익명 함수이다. python 외에도 여러 언어에서 지원하는 expression으로, 짧은 함수를 잠깐 사용할 때 쓸 수 있다.
가장 기본적으로는 아래와 같이 쓴다.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="mi"&gt;9&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="mi"&gt;225&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;lambda&lt;/code&gt;뒤에 인자를 받고 return 값을 적어준다.
아래와 같이 사용할 수도 있다.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;sys&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;read&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stdin&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;readline&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="mi"&gt;10&lt;/span&gt;
&lt;span class="s1"&gt;&amp;#39;10&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;sort&lt;/code&gt; 함수의 key로도 사용한다.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt;
&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;],[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;],[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;],[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;],[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt;
&lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="python"></category></entry><entry><title>[Regex] 특정문자로 시작하지 않는 중국어가 포함된 문자열</title><link href="http://til.junshoong.net/regex/chinese-string-without-special-character-starting" rel="alternate"></link><published>2017-04-09T15:40:00+09:00</published><updated>2017-04-09T15:40:00+09:00</updated><author><name>junshoong</name></author><id>tag:til.junshoong.net,2017-04-09:/regex/chinese-string-without-special-character-starting</id><summary type="html">&lt;p&gt;&lt;a href="https://github.com/skhu-sss/ssslackbot/blob/master/plugins/filter.py"&gt;ssslackbot&lt;/a&gt;을 개발 중에 regex가 필요하게 되었다. 전각 느낌표(&lt;code&gt;！&lt;/code&gt;)로 시작하지 않는 중국어가 포함된 문자열을 확인해서 걸러내야하는 작업이다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;중국어 자판에서는 전각느낌표를 사용한다. &lt;code&gt;！&lt;/code&gt; != &lt;code&gt;!&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;먼저 중국어 문자열의 범위를 살펴보자. 영어에서는 &lt;code&gt;[a-z]&lt;/code&gt;나 &lt;code&gt;[A-Z]&lt;/code&gt;등을 사용해서 간단히 거를 수 있다. 한글도 마찬가지로 &lt;code&gt;[ㄱ-힇]&lt;/code&gt; 정도로 거른다. 하지만 중국어는 유니코드로 걸러내야한다. &lt;code&gt;[\u4e00-\u9fff]&lt;/code&gt;로 표현 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a href="https://github.com/skhu-sss/ssslackbot/blob/master/plugins/filter.py"&gt;ssslackbot&lt;/a&gt;을 개발 중에 regex가 필요하게 되었다. 전각 느낌표(&lt;code&gt;！&lt;/code&gt;)로 시작하지 않는 중국어가 포함된 문자열을 확인해서 걸러내야하는 작업이다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;중국어 자판에서는 전각느낌표를 사용한다. &lt;code&gt;！&lt;/code&gt; != &lt;code&gt;!&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;먼저 중국어 문자열의 범위를 살펴보자. 영어에서는 &lt;code&gt;[a-z]&lt;/code&gt;나 &lt;code&gt;[A-Z]&lt;/code&gt;등을 사용해서 간단히 거를 수 있다. 한글도 마찬가지로 &lt;code&gt;[ㄱ-힇]&lt;/code&gt; 정도로 거른다. 하지만 중국어는 유니코드로 걸러내야한다. &lt;code&gt;[\u4e00-\u9fff]&lt;/code&gt;로 표현 된다.&lt;/p&gt;
&lt;p&gt;그럼 이제 전각 느낌표로 시작하지 않는 문자열을 걸러보자. 편의를 위해서 일반적으로 사용하는 반각느낌표(&lt;code&gt;!&lt;/code&gt;)를 사용하겠다.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;^(?!!)(.*)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;하나씩 풀어보자.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;^&lt;/code&gt; 는 문자열의 시작부분을 의미한다.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;(?!x)&lt;/code&gt;는 &lt;code&gt;x&lt;/code&gt;로 시작하지 않는 문자를 검색한다.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;.&lt;/code&gt;는 모든 문자를 의미한다.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;*&lt;/code&gt;는 0~n개의 문자를 의미한다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;^(?!!)(.*)&lt;/code&gt; 그럼 이것은 &lt;code&gt;!&lt;/code&gt;로 시작하지 않는 모든 문자를 의미한다.&lt;/p&gt;
&lt;p&gt;그럼 두 가지를 합쳐보자.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;^(?!!)(.*[\u4e00-\u9fff]+.*)&lt;/code&gt; !로 시작하지 않는 모든 문자열속의 중국어가 1개 이상포함된 문자열을 의미한다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://regex101.com/r/ZMBaBB/1"&gt;regex101&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://stackoverflow.com/a/40122744/4466697"&gt;stackoverflow - chinese character&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://stackoverflow.com/a/1366113/4466697"&gt;stackoverflow - chinese unicode&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="regex"></category><category term="python"></category><category term="slackbot"></category></entry><entry><title>[Pelican] 설치</title><link href="http://til.junshoong.net/pelican/pelican-setup" rel="alternate"></link><published>2017-04-09T04:25:00+09:00</published><updated>2017-04-09T04:25:00+09:00</updated><author><name>junshoong</name></author><id>tag:til.junshoong.net,2017-04-09:/pelican/pelican-setup</id><summary type="html">&lt;p&gt;pelican 3.7.1을 설치했다.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pip install pelican markdown
pelican-quickstart
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;로 설치를 진행한다.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/getpelican/pelican-themes/tree/master/simple-bootstrap"&gt;simple-bootstrap&lt;/a&gt; 테마를 적용했다.&lt;/p&gt;
&lt;p&gt;원하는 경로에 테마를 받은 후에 &lt;code&gt;pelicanconf.py&lt;/code&gt; 파일에 아래와 같이 적어준다.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;THEME&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;lt;your_themes_path&amp;gt;/simple-bootstrap&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;make publish 로 배포를 준비할 경우, 이전에 유지되던 디렉터리가 사라져서 난감했다. 이런 경우에는 &lt;code&gt;publishconf.py&lt;/code&gt; 파일에 아래와 같이 추가해주자.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;DELETE_OUTPUT_DIRECTORY …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;pelican 3.7.1을 설치했다.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pip install pelican markdown
pelican-quickstart
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;로 설치를 진행한다.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/getpelican/pelican-themes/tree/master/simple-bootstrap"&gt;simple-bootstrap&lt;/a&gt; 테마를 적용했다.&lt;/p&gt;
&lt;p&gt;원하는 경로에 테마를 받은 후에 &lt;code&gt;pelicanconf.py&lt;/code&gt; 파일에 아래와 같이 적어준다.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;THEME&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;lt;your_themes_path&amp;gt;/simple-bootstrap&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;make publish 로 배포를 준비할 경우, 이전에 유지되던 디렉터리가 사라져서 난감했다. 이런 경우에는 &lt;code&gt;publishconf.py&lt;/code&gt; 파일에 아래와 같이 추가해주자.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;DELETE_OUTPUT_DIRECTORY&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;False&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="pelican"></category></entry></feed>