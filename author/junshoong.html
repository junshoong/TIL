<!DOCTYPE html>
<html>
    <head>
        <title> Articles by junshoong - TIL</title>
        <meta charset="utf-8" />
        <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" />
        <link href="../theme/static/css/style.css" rel="stylesheet" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <link href="http://til.junshoong.net/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="TIL Full Atom Feed" />
    </head>

    <body id="index" class="archive">
        <div class="container">
            <div class="header">
                <ul class="nav nav-pills pull-right">
                    <li class=""><a href="..">Home</a></li>
                    <li class="active"><a href="../archives.html">Archives</a></li>
                    <li><a href="http://blog.junshoong.net">Blog</a></li>
                </ul>
                <h3 class="text-muted"><a href="..">TIL</a></h3>
				<h2 class="text-muted"></h2>
             </div>
<section id="content" class="content">
<h2>Articles by junshoong</h2>

        <article class="hentry">
                <header>
                    <h2 class="entry-title"><a href="../python/time-check" rel="bookmark" title="Permalink to [Python] 프로그램 시간 체크하기">[Python] 프로그램 시간 체크하기</a><span class="title-date">2017-04-26, Wed</span></h2>
                </header>
                <div class="entry-content">
                    <div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">timeit</span>

<span class="n">s</span> <span class="o">=</span> <span class="n">timeit</span><span class="o">.</span><span class="n">default_timer</span><span class="p">()</span>

<span class="n">some_progress</span><span class="p">()</span>

<span class="n">e</span> <span class="o">=</span> <span class="n">timeit</span><span class="o">.</span><span class="n">default_timer</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">e</span><span class="o">-</span><span class="n">s</span><span class="p">)</span>
</pre></div>


<p>위와 같이 특정 처리에 걸린 시간을 확인할 수 있다.</p>
                    <a class="btn btn-default btn-xs" href="../python/time-check"> more... </a>
                </div><!-- entry-content -->
        </article>
        <article class="hentry">
                <header>
                    <h2 class="entry-title"><a href="../docker/persist-data-with-data-volume" rel="bookmark" title="Permalink to [Docker] Data Volume을 사용해서 데이터 지속하기">[Docker] Data Volume을 사용해서 데이터 지속하기</a><span class="title-date">2017-04-21, Fri</span></h2>
                </header>
                <div class="entry-content">
                    <p>docker와 git-hook을 사용해서 어느정도 프로세스를 자동화하고 있다.
하지만 docker container를 부수고 다시 build 해서 돌리면 내부 데이터가 날아간다. DB의 경우는 <code>--link</code> 옵션을 이용해서 유지하지만 실제로 upload한 image와 같은 file들의 경우는 컨테이너와 함께 지워진다.</p>
<p>Data Volume을 사용해서 해결해보자.</p>
<div class="highlight"><pre><span></span>docker create -v /srv/media --name data-store ubuntu /bin/true
</pre></div>


<p>이렇게하면 ubuntu 이미지를 …</p>
                    <a class="btn btn-default btn-xs" href="../docker/persist-data-with-data-volume"> more... </a>
                </div><!-- entry-content -->
        </article>
        <article class="hentry">
                <header>
                    <h2 class="entry-title"><a href="../django/set-user-permission" rel="bookmark" title="Permalink to [Django] User에게 권한 부여하기">[Django] User에게 권한 부여하기</a><span class="title-date">2017-04-21, Fri</span></h2>
                </header>
                <div class="entry-content">
                    <p>코드 몇줄로 간단하게 권한을 부여할 수 있다.</p>
<div class="highlight"><pre><span></span><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s1">&#39;testuser&#39;</span><span class="p">)</span>
<span class="n">perm</span> <span class="o">=</span> <span class="n">Permission</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">codename</span><span class="o">=</span><span class="s1">&#39;model.add_model&#39;</span><span class="p">)</span>
<span class="n">user</span><span class="o">.</span><span class="n">user_permissions</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">perm</span><span class="p">)</span>
</pre></div>


<p>여기서 주의할 점은 적용되긴하지만 <code>has_perm</code>등으로 확인하면 해당 권한이 없다고 나온다는 점이다. 이는 캐싱되어 있는 정보때문에 그렇다. 캐시를 지우거나 인스턴스를 새로 불러오면 올바르게 적용된걸 확인할 수 …</p>
                    <a class="btn btn-default btn-xs" href="../django/set-user-permission"> more... </a>
                </div><!-- entry-content -->
        </article>
        <article class="hentry">
                <header>
                    <h2 class="entry-title"><a href="../django/serializer-or-view" rel="bookmark" title="Permalink to [Django] serializer의 구현">[Django] serializer의 구현</a><span class="title-date">2017-04-20, Thu</span></h2>
                </header>
                <div class="entry-content">
                    <p>DRF에서 create를 구현하는 경우 <code>ViewSet</code>의 <code>perform_create</code>를 사용하면 Serializer의 create를 돌지 않는다.</p>
                    <a class="btn btn-default btn-xs" href="../django/serializer-or-view"> more... </a>
                </div><!-- entry-content -->
        </article>
        <article class="hentry">
                <header>
                    <h2 class="entry-title"><a href="../django/timezone-setting" rel="bookmark" title="Permalink to [Django] timezone 설정">[Django] timezone 설정</a><span class="title-date">2017-04-19, Wed</span></h2>
                </header>
                <div class="entry-content">
                    <p>Django에서 기본적인 DateTimeField를 현재 timezone으로 맞추고 싶다.</p>
<p>settings.py</p>
<div class="highlight"><pre><span></span><span class="n">TIME_ZONE</span> <span class="o">=</span> <span class="s1">&#39;Asia/Seoul&#39;</span>
<span class="c1"># USE_TZ = True</span>
</pre></div>


<p>여기서 <code>TIME_ZONE</code>만 수정해주니까 저장되는 값이 달랐다. <code>USE_TZ</code>도 comment 해주니 정상적으로 입력되었다.
참고로 Django에서는 <a href="https://www.w3.org/TR/NOTE-datetime"><code>ISO 8601</code></a> 을 따른다.</p>
                    <a class="btn btn-default btn-xs" href="../django/timezone-setting"> more... </a>
                </div><!-- entry-content -->
        </article>
        <article class="hentry">
                <header>
                    <h2 class="entry-title"><a href="../angular/angular-http-provider" rel="bookmark" title="Permalink to [Angular] no provider for Http 에러">[Angular] no provider for Http 에러</a><span class="title-date">2017-04-17, Mon</span></h2>
                </header>
                <div class="entry-content">
                    <p>Uncaught (in promise): No provider for Http! 에러</p>
                    <a class="btn btn-default btn-xs" href="../angular/angular-http-provider"> more... </a>
                </div><!-- entry-content -->
        </article>
        <article class="hentry">
                <header>
                    <h2 class="entry-title"><a href="../django/django-restframework-image-field" rel="bookmark" title="Permalink to [Django] restframework에서 image 제공하기">[Django] restframework에서 image 제공하기</a><span class="title-date">2017-04-16, Sun</span></h2>
                </header>
                <div class="entry-content">
                    <p>DRF에서 image field를 serving 해보자.</p>
                    <a class="btn btn-default btn-xs" href="../django/django-restframework-image-field"> more... </a>
                </div><!-- entry-content -->
        </article>
        <article class="hentry">
                <header>
                    <h2 class="entry-title"><a href="../css/rem-vs-em" rel="bookmark" title="Permalink to [CSS] rem과 em">[CSS] rem과 em</a><span class="title-date">2017-04-13, Thu</span></h2>
                </header>
                <div class="entry-content">
                    <p>rem은 root에, em은 해당 요소의 font-size에 비례한다. 그리고 rem이 권장되는 편이다.</p>
                    <a class="btn btn-default btn-xs" href="../css/rem-vs-em"> more... </a>
                </div><!-- entry-content -->
        </article>
        <article class="hentry">
                <header>
                    <h2 class="entry-title"><a href="../git/use-submodule" rel="bookmark" title="Permalink to [Git] Submodule 사용하기">[Git] Submodule 사용하기</a><span class="title-date">2017-04-13, Thu</span></h2>
                </header>
                <div class="entry-content">
                    <p>git에서 Submodule을 사용해봤다.</p>
                    <a class="btn btn-default btn-xs" href="../git/use-submodule"> more... </a>
                </div><!-- entry-content -->
        </article>
        <article class="hentry">
                <header>
                    <h2 class="entry-title"><a href="../python/lambda-sort" rel="bookmark" title="Permalink to [Python] lambda를 통한 sort">[Python] lambda를 통한 sort</a><span class="title-date">2017-04-12, Wed</span></h2>
                </header>
                <div class="entry-content">
                    <p><code>lambda</code>는 익명 함수이다. python 외에도 여러 언어에서 지원하는 expression으로, 짧은 함수를 잠깐 사용할 때 쓸 수 있다.
가장 기본적으로는 아래와 같이 쓴다.</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="mi">9</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
<span class="mi">225</span>
</pre></div>


<p><code>lambda</code>뒤에 인자를 받고 return 값을 적어준다.
아래와 같이 사용할 수도 있다.</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">sys</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">read</span> <span class="o">=</span> <span class="k">lambda …</span></pre></div>
                    <a class="btn btn-default btn-xs" href="../python/lambda-sort"> more... </a>
                </div><!-- entry-content -->
        </article>
<div class="pager">
      <ul>
                        <li class="previous disabled"><a>← Previous</a></li>
						<li class="next"><a href="../author/junshoong2.html">Next →</a></li>
      </ul>
    </div>
</section><!-- content -->
            <footer id="contentinfo" class="footer">
                    <nav class="pull-right bottom-nav">
                        <a href="http://til.junshoong.net/feeds/all.atom.xml">RSS</a>
                    </nav>
                    <address id="about" class="vcard body">
                    &copy; <a href="..">TIL</a> Proudly powered by <a href="http://getpelican.com/">Pelican</a>
                    </address><!-- /#about -->
            </footer><!-- /#contentinfo -->
        </div><!-- container -->
    </body>
</html>